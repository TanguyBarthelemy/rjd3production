% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assign.R
\name{assign_cjo}
\alias{assign_cjo}
\title{Assign CJO regressors to a JDemetra+ workspace}
\usage{
assign_cjo(cjo, ws_path, context = NULL)
}
\arguments{
\item{cjo}{[\link[base]{data.frame}] A data.frame with at least two columns:
\itemize{
\item \code{series}: names of the series in the workspace.
\item \code{regs}: the standard INSEE CJO set (\code{REG1}, \code{REG2}, …, \code{REG6}, with or without \verb{_LY}).
}

Typically this table is produced by \code{\link[=retrieve_cjo]{retrieve_cjo()}}.}

\item{ws_path}{[\link[base]{character}] Path to a JDemetra+ workspace file
(usually with extension \code{.xml}).}
}
\value{
Invisibly returns \code{NULL}. The workspace file at \code{ws_path} is updated
on disk with the new CJO regressors.
}
\description{
This function updates a JDemetra+ workspace (\code{.xml}) by assigning
user-defined trading day regressors (CJO) to each seasonal adjustment model
(SAI), based on an external classification (typically created with
\code{\link[=retrieve_cjo]{retrieve_cjo()}}).

The function modifies the \code{domainSpec} of each series by setting
\code{tradingdays} to \code{"UserDefined"} with the appropriate regressors
(\code{REG1} … \code{REG6}, optionally with \code{LY} for leap year).
}
\details{
For each series in the workspace:
\itemize{
\item the function looks up its assigned \code{regs} in the \code{cjo} table,
\item translates the label (\code{REG1}, \code{REG2}, …) into the corresponding
user-defined regressors (e.g. \code{r.REG1_Semaine}, \code{r.REG5_Lundi}, …),
\item updates the \code{domainSpec} with \code{set_tradingdays(option = "UserDefined", ...)},
\item saves the modified workspace.
}

The file is overwritten in place (\code{replace = TRUE}).
}
\examples{
\dontrun{
# Load a workspace and apply INSEE CJO sets
cjo_table <- retrieve_cjo("workspace.xml")
assign_cjo(cjo = cjo_table, ws_path = "workspace.xml")
}

}
